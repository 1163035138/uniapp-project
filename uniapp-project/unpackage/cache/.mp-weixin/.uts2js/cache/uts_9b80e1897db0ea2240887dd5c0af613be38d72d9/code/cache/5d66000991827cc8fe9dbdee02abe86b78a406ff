{"code":"import { defineComponent } from \"vue\";\n// 引入图标名称，已经对应的unicode\nimport icons from './icons';\nimport { props } from './props';\nimport config from '../../libs/config/config';\nimport { mpMixin } from '../../libs/mixin/mpMixin';\nimport { mixin } from '../../libs/mixin/mixin';\nimport { addUnit, addStyle } from '../../libs/function/index';\n/**\n * icon 图标\n * @description 基于字体的图标集，包含了大多数常见场景的图标。\n * @tutorial https://ijry.github.io/uview-plus/components/icon.html\n * @property {String}\t\t\tname\t\t\t图标名称，见示例图标集\n * @property {String}\t\t\tcolor\t\t\t图标颜色,可接受主题色 （默认 color['u-content-color'] ）\n * @property {String | Number}\tsize\t\t\t图标字体大小，单位px （默认 '16px' ）\n * @property {Boolean}\t\t\tbold\t\t\t是否显示粗体 （默认 false ）\n * @property {String | Number}\tindex\t\t\t点击图标的时候传递事件出去的index（用于区分点击了哪一个）\n * @property {String}\t\t\thoverClass\t\t图标按下去的样式类，用法同uni的view组件的hoverClass参数，详情见官网\n * @property {String}\t\t\tcustomPrefix\t自定义扩展前缀，方便用户扩展自己的图标库 （默认 'uicon' ）\n * @property {String | Number}\tlabel\t\t\t图标右侧的label文字\n * @property {String}\t\t\tlabelPos\t\tlabel相对于图标的位置，只能right或bottom （默认 'right' ）\n * @property {String | Number}\tlabelSize\t\tlabel字体大小，单位px （默认 '15px' ）\n * @property {String}\t\t\tlabelColor\t\t图标右侧的label文字颜色 （ 默认 color['u-content-color'] ）\n * @property {String | Number}\tspace\t\t\tlabel与图标的距离，单位px （默认 '3px' ）\n * @property {String}\t\t\timgMode\t\t\t图片的mode\n * @property {String | Number}\twidth\t\t\t显示图片小图标时的宽度\n * @property {String | Number}\theight\t\t\t显示图片小图标时的高度\n * @property {String | Number}\ttop\t\t\t\t图标在垂直方向上的定位 用于解决某些情况下，让图标垂直居中的用途  （默认 0 ）\n * @property {Boolean}\t\t\tstop\t\t\t是否阻止事件传播 （默认 false ）\n * @property {Object}\t\t\tcustomStyle\t\ticon的样式，对象形式\n * @event {Function} click 点击图标时触发\n * @event {Function} touchstart 事件触摸时触发\n * @example <u-icon name=\"photo\" color=\"#2979ff\" size=\"28\"></u-icon>\n */\nexport default defineComponent({\n    name: 'u-icon',\n    beforeCreate() {\n        uni.loadFontFace({\n            family: 'uicon-iconfont',\n            source: 'url(\"' + config.iconUrl + '\")',\n            success() {\n                // uni.__f__('log','at uni_modules/uview-plus/components/u-icon/u-icon.vue:95','内置字体图标加载成功');\n            },\n            fail() {\n                uni.__f__('error', 'at uni_modules/uview-plus/components/u-icon/u-icon.vue:98', '内置字体图标加载出错');\n            }\n        });\n        if (config.customIcon.family) {\n            uni.loadFontFace({\n                family: config.customIcon.family,\n                source: 'url(\"' + config.customIcon.url + '\")',\n                success() {\n                    // uni.__f__('log','at uni_modules/uview-plus/components/u-icon/u-icon.vue:106','扩展字体图标加载成功');\n                },\n                fail() {\n                    uni.__f__('error', 'at uni_modules/uview-plus/components/u-icon/u-icon.vue:109', '扩展字体图标加载出错');\n                }\n            });\n        }\n    },\n    data() {\n        return {};\n    },\n    emits: ['click'],\n    mixins: [mpMixin, mixin, props],\n    computed: {\n        uClasses() {\n            let classes = [];\n            classes.push(this.customPrefix + '-' + this.name);\n            // uview-plus内置图标类名为u-iconfont\n            if (this.customPrefix == 'uicon') {\n                classes.push('u-iconfont');\n            }\n            else {\n                // 不能缺少这一步，否则自定义图标会无效\n                classes.push(this.customPrefix);\n            }\n            // 主题色，通过类配置\n            if (this.color && config.type.includes(this.color))\n                classes.push('u-icon__icon--' + this.color);\n            // 阿里，头条，百度小程序通过数组绑定类名时，无法直接使用[a, b, c]的形式，否则无法识别\n            // 故需将其拆成一个字符串的形式，通过空格隔开各个类名\n            return classes;\n        },\n        iconStyle() {\n            let style = new UTSJSONObject({});\n            style = new UTSJSONObject({\n                fontSize: addUnit(this.size),\n                lineHeight: addUnit(this.size),\n                fontWeight: this.bold ? 'bold' : 'normal',\n                // 某些特殊情况需要设置一个到顶部的距离，才能更好的垂直居中\n                top: addUnit(this.top)\n            });\n            if (this.customPrefix !== 'uicon') {\n                style.fontFamily = this.customPrefix;\n            }\n            // 非主题色值时，才当作颜色值\n            if (this.color && !config.type.includes(this.color))\n                style.color = this.color;\n            return style;\n        },\n        // 判断传入的name属性，是否图片路径，只要带有\"/\"均认为是图片形式\n        isImg() {\n            return this.name.indexOf('/') !== -1;\n        },\n        imgStyle() {\n            let style = new UTSJSONObject({}\n            // 如果设置width和height属性，则优先使用，否则使用size属性\n            );\n            // 如果设置width和height属性，则优先使用，否则使用size属性\n            style.width = this.width ? addUnit(this.width) : addUnit(this.size);\n            style.height = this.height ? addUnit(this.height) : addUnit(this.size);\n            return style;\n        },\n        // 通过图标名，查找对应的图标\n        icon() {\n            // 使用自定义图标的时候页面上会把name属性也展示出来，所以在这里处理一下\n            if (this.customPrefix !== \"uicon\") {\n                return config.customIcons[this.name] || this.name;\n            }\n            // 如果内置的图标中找不到对应的图标，就直接返回name值，因为用户可能传入的是unicode代码\n            return icons['uicon-' + this.name] || this.name;\n        }\n    },\n    methods: {\n        addStyle,\n        addUnit,\n        clickHandler(e = null) {\n            this.$emit('click', this.index, e);\n            // 是否阻止事件冒泡\n            this.stop && this.preventEvent(e);\n        }\n    }\n});\n//# sourceMappingURL=C:/Users/86150/Desktop/%E5%BC%A0%E4%BA%9A%E5%86%AC%E9%A1%B9%E7%9B%AE/uniapp-project/uni_modules/uview-plus/components/u-icon/u-icon.vue?vue&type=script&lang.uts.js.map","references":["C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/components/u-icon/icons.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/components/u-icon/props.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/config/config.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/mixin/mpMixin.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/mixin/mixin.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/function/index.js"],"uniExtApis":["uni.loadFontFace","uni.__f__"],"map":"{\"version\":3,\"file\":\"u-icon.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"u-icon.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
