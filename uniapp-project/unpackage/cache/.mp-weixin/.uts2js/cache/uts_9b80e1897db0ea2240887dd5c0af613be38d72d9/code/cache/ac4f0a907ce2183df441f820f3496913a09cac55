{"code":"import { __awaiter } from \"tslib\";\nimport { defineComponent } from \"vue\";\nimport { props } from './props';\nimport { mpMixin } from '../../libs/mixin/mpMixin';\nimport { mixin } from '../../libs/mixin/mixin';\nimport { addStyle, deepMerge, sleep } from '../../libs/function/index';\n/**\n * Tabbar 底部导航栏\n * @description 此组件提供了自定义tabbar的能力。\n * @tutorial https://ijry.github.io/uview-plus/components/tabbar.html\n * @property {String | Number}\tvalue\t\t\t\t当前匹配项的name\n * @property {Boolean}\t\t\tsafeAreaInsetBottom\t是否为iPhoneX留出底部安全距离（默认 true ）\n * @property {Boolean}\t\t\tborder\t\t\t\t是否显示上方边框（默认 true ）\n * @property {String | Number}\tzIndex\t\t\t\t元素层级z-index（默认 1 ）\n * @property {String}\t\t\tactiveColor\t\t\t选中标签的颜色（默认 '#1989fa' ）\n * @property {String}\t\t\tinactiveColor\t\t未选中标签的颜色（默认 '#7d7e80' ）\n * @property {Boolean}\t\t\tfixed\t\t\t\t是否固定在底部（默认 true ）\n * @property {Boolean}\t\t\tplaceholder\t\t\tfixed定位固定在底部时，是否生成一个等高元素防止塌陷（默认 true ）\n * @property {Object}\t\t\tcustomStyle\t\t\t定义需要用到的外部样式\n *\n * @example <u-tabbar :value=\"value2\" :placeholder=\"false\" @change=\"name => value2 = name\" :fixed=\"false\" :safeAreaInsetBottom=\"false\"><u-tabbar-item text=\"首页\" icon=\"home\" dot ></u-tabbar-item></u-tabbar>\n */\nexport default defineComponent({\n    name: 'u-tabbar',\n    mixins: [mpMixin, mixin, props],\n    data() {\n        return {\n            placeholderHeight: 0\n        };\n    },\n    computed: {\n        tabbarStyle() {\n            const style = new UTSJSONObject({\n                zIndex: this.zIndex\n            }\n            // 合并来自父组件的customStyle样式\n            );\n            // 合并来自父组件的customStyle样式\n            return deepMerge(style, addStyle(this.customStyle));\n        },\n        // 监听多个参数的变化，通过在computed执行对应的操作\n        updateChild() {\n            return [this.value, this.activeColor, this.inactiveColor];\n        },\n        updatePlaceholder() {\n            return [this.fixed, this.placeholder];\n        }\n    },\n    watch: {\n        updateChild() {\n            // 如果updateChildren中的元素发生了变化，则执行子元素初始化操作\n            this.updateChildren();\n        },\n        updatePlaceholder() {\n            // 如果fixed，placeholder等参数发生变化，重新计算占位元素的高度\n            this.setPlaceholderHeight();\n        }\n    },\n    created() {\n        this.children = [];\n    },\n    mounted() {\n        this.setPlaceholderHeight();\n    },\n    methods: {\n        updateChildren() {\n            // 如果存在子元素，则执行子元素的updateFromParent进行更新数据\n            this.children.length && this.children.map((child = null) => { return child.updateFromParent(); });\n        },\n        // 设置用于防止塌陷元素的高度\n        setPlaceholderHeight() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!this.fixed || !this.placeholder)\n                    return Promise.resolve(null);\n                // 延时一定时间\n                yield sleep(20);\n                this.$uGetRect('.u-tabbar__content').then((_a) => {\n                    var _b = _a.height, height = _b == void 0 ? 50 : _b;\n                    // 修复IOS safearea bottom 未填充高度\n                    this.placeholderHeight = height;\n                });\n            });\n        }\n    }\n});\n//# sourceMappingURL=C:/Users/86150/Desktop/%E5%BC%A0%E4%BA%9A%E5%86%AC%E9%A1%B9%E7%9B%AE/uniapp-project/uni_modules/uview-plus/components/u-tabbar/u-tabbar.vue?vue&type=script&lang.uts.js.map","references":["C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/components/u-tabbar/props.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/mixin/mpMixin.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/mixin/mixin.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/function/index.js"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"u-tabbar.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"u-tabbar.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";;AACC,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;AAChC,OAAO,EAAE,OAAO,EAAE,MAAM,0BAA0B,CAAC;AACnD,OAAO,EAAE,KAAK,EAAE,MAAM,wBAAwB,CAAC;AAC/C,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAIvE;;;;;;;;;;;;;;;GAeG;AACH,+BAAe;IACd,IAAI,EAAE,UAAU;IAChB,MAAM,EAAE,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC;IAC/B,IAAI;QACH,OAAO;YACN,iBAAiB,EAAE,CAAC;SACpB,CAAA;IACF,CAAC;IACD,QAAQ,EAAE;QACT,WAAW;YACV,MAAM,KAAK,qBAAG;gBACb,MAAM,EAAE,IAAI,CAAC,MAAM;aACnB;YACD,wBAAwB;aADvB,CAAA;YACD,wBAAwB;YACxB,OAAO,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAA;QACpD,CAAC;QACD,+BAA+B;QAC/B,WAAW;YACV,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,CAAA;QAC1D,CAAC;QACD,iBAAiB;YAChB,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,CAAA;QACtC,CAAC;KACD;IACD,KAAK,EAAE;QACN,WAAW;YACV,wCAAwC;YACxC,IAAI,CAAC,cAAc,EAAE,CAAA;QACtB,CAAC;QACD,iBAAiB;YAChB,yCAAyC;YACzC,IAAI,CAAC,oBAAoB,EAAE,CAAA;QAC5B,CAAC;KACD;IACD,OAAO;QACN,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAA;IACnB,CAAC;IACD,OAAO;QACN,IAAI,CAAC,oBAAoB,EAAE,CAAA;IAC5B,CAAC;IACD,OAAO,EAAE;QACR,cAAc;YACb,wCAAwC;YACxC,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA,KAAK,OAAA,OAAI,OAAA,KAAK,CAAC,gBAAgB,EAAE,EAAxB,CAAwB,CAAC,CAAA;QAC7E,CAAC;QACD,gBAAgB;QACV,oBAAoB;;gBACzB,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,WAAW;oBAAE,6BAAM;gBAC5C,SAAS;gBACT,MAAM,KAAK,CAAC,EAAE,CAAC,CAAA;gBAEf,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,CAAC,EAAa;wBAAZ,cAAW,EAAX,MAAM,kBAAG,EAAE,KAAA;oBACtD,8BAA8B;oBAC9B,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAA;gBAChC,CAAC,CAAC,CAAA;YAWH,CAAC;SAAA;KACD;CACD,EAAA\"}"}
