{"code":"import { defineComponent } from \"vue\";\nimport { buttonMixin } from \"../../libs/mixin/button\";\nimport { openType } from \"../../libs/mixin/openType\";\nimport { mpMixin } from '../../libs/mixin/mpMixin';\nimport { mixin } from '../../libs/mixin/mixin';\nimport { props } from \"./props\";\nimport { addStyle } from '../../libs/function/index';\nimport { throttle } from '../../libs/function/throttle';\nimport color from '../../libs/config/color';\n/**\n * button 按钮\n * @description Button 按钮\n * @tutorial https://ijry.github.io/uview-plus/components/button.html\n *\n * @property {Boolean}\t\t\thairline\t\t\t\t是否显示按钮的细边框 (默认 true )\n * @property {String}\t\t\ttype\t\t\t\t\t按钮的预置样式，info，primary，error，warning，success (默认 'info' )\n * @property {String}\t\t\tsize\t\t\t\t\t按钮尺寸，large，normal，mini （默认 normal）\n * @property {String}\t\t\tshape\t\t\t\t\t按钮形状，circle（两边为半圆），square（带圆角） （默认 'square' ）\n * @property {Boolean}\t\t\tplain\t\t\t\t\t按钮是否镂空，背景色透明 （默认 false）\n * @property {Boolean}\t\t\tdisabled\t\t\t\t是否禁用 （默认 false）\n * @property {Boolean}\t\t\tloading\t\t\t\t\t按钮名称前是否带 loading 图标(App-nvue 平台，在 ios 上为雪花，Android上为圆圈) （默认 false）\n * @property {String | Number}\tloadingText\t\t\t\t加载中提示文字\n * @property {String}\t\t\tloadingMode\t\t\t\t加载状态图标类型 （默认 'spinner' ）\n * @property {String | Number}\tloadingSize\t\t\t\t加载图标大小 （默认 15 ）\n * @property {String}\t\t\topenType\t\t\t\t开放能力，具体请看uniapp稳定关于button组件部分说明\n * @property {String}\t\t\tformType\t\t\t\t用于 <form> 组件，点击分别会触发 <form> 组件的 submit/reset 事件\n * @property {String}\t\t\tappParameter\t\t\t打开 APP 时，向 APP 传递的参数，open-type=launchApp时有效 （注：只微信小程序、QQ小程序有效）\n * @property {Boolean}\t\t\thoverStopPropagation\t指定是否阻止本节点的祖先节点出现点击态，微信小程序有效（默认 true ）\n * @property {String}\t\t\tlang\t\t\t\t\t指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文（默认 en ）\n * @property {String}\t\t\tsessionFrom\t\t\t\t会话来源，openType=\"contact\"时有效\n * @property {String}\t\t\tsendMessageTitle\t\t会话内消息卡片标题，openType=\"contact\"时有效\n * @property {String}\t\t\tsendMessagePath\t\t\t会话内消息卡片点击跳转小程序路径，openType=\"contact\"时有效\n * @property {String}\t\t\tsendMessageImg\t\t\t会话内消息卡片图片，openType=\"contact\"时有效\n * @property {Boolean}\t\t\tshowMessageCard\t\t\t是否显示会话内消息卡片，设置此参数为 true，用户进入客服会话会在右下角显示\"可能要发送的小程序\"提示，用户点击后可以快速发送小程序消息，openType=\"contact\"时有效（默认false）\n * @property {String}\t\t\tdataName\t\t\t\t额外传参参数，用于小程序的data-xxx属性，通过target.dataset.name获取\n * @property {String | Number}\tthrottleTime\t\t\t节流，一定时间内只能触发一次 （默认 0 )\n * @property {String | Number}\thoverStartTime\t\t\t按住后多久出现点击态，单位毫秒 （默认 0 )\n * @property {String | Number}\thoverStayTime\t\t\t手指松开后点击态保留时间，单位毫秒 （默认 200 )\n * @property {String | Number}\ttext\t\t\t\t\t按钮文字，之所以通过props传入，是因为slot传入的话（注：nvue中无法控制文字的样式）\n * @property {String}\t\t\ticon\t\t\t\t\t按钮图标\n * @property {String}\t\t\ticonColor\t\t\t\t按钮图标颜色\n * @property {String}\t\t\tcolor\t\t\t\t\t按钮颜色，支持传入linear-gradient渐变色\n * @property {Object}\t\t\tcustomStyle\t\t\t\t定义需要用到的外部样式\n *\n * @event {Function}\tclick\t\t\t非禁止并且非加载中，才能点击\n * @event {Function}\tgetphonenumber\topen-type=\"getPhoneNumber\"时有效\n * @event {Function}\tgetuserinfo\t\t用户点击该按钮时，会返回获取到的用户信息，从返回参数的detail中获取到的值同uni.getUserInfo\n * @event {Function}\terror\t\t\t当使用开放能力时，发生错误的回调\n * @event {Function}\topensetting\t\t在打开授权设置页并关闭后回调\n * @event {Function}\tlaunchapp\t\t打开 APP 成功的回调\n * @event {Function}\tagreeprivacyauthorization\t用户同意隐私协议事件回调\n * @example <u-button>月落</u-button>\n */\nexport default defineComponent({\n    name: \"u-button\",\n    mixins: [mpMixin, mixin, buttonMixin, openType, props],\n    data() {\n        return {};\n    },\n    computed: {\n        // 生成bem风格的类名\n        bemClass() {\n            // this.bem为一个computed变量，在mixin中\n            if (!this.color) {\n                return this.bem(\"button\", [\"type\", \"shape\", \"size\"], [\"disabled\", \"plain\", \"hairline\"]);\n            }\n            else {\n                // 由于nvue的原因，在有color参数时，不需要传入type，否则会生成type相关的类型，影响最终的样式\n                return this.bem(\"button\", [\"shape\", \"size\"], [\"disabled\", \"plain\", \"hairline\"]);\n            }\n        },\n        loadingColor() {\n            if (this.plain) {\n                // 如果有设置color值，则用color值，否则使用type主题颜色\n                return this.color\n                    ? this.color\n                    : color[`u-${this.type}`];\n            }\n            if (this.type === \"info\") {\n                return \"#c9c9c9\";\n            }\n            return \"rgb(200, 200, 200)\";\n        },\n        iconColorCom() {\n            // 如果是镂空状态，设置了color就用color值，否则使用主题颜色，\n            // u-icon的color能接受一个主题颜色的值\n            if (this.iconColor)\n                return this.iconColor;\n            if (this.plain) {\n                return this.color ? this.color : this.type;\n            }\n            else {\n                return this.type === \"info\" ? \"#000000\" : \"#ffffff\";\n            }\n        },\n        baseColor() {\n            let style = new UTSJSONObject({});\n            if (this.color) {\n                // 针对自定义了color颜色的情况，镂空状态下，就是用自定义的颜色\n                style.color = this.plain ? this.color : \"white\";\n                if (!this.plain) {\n                    // 非镂空，背景色使用自定义的颜色\n                    style[\"background-color\"] = this.color;\n                }\n                if (this.color.indexOf(\"gradient\") !== -1) {\n                    // 如果自定义的颜色为渐变色，不显示边框，以及通过backgroundImage设置渐变色\n                    // weex文档说明可以写borderWidth的形式，为什么这里需要分开写？\n                    // 因为weex是阿里巴巴为了部门业绩考核而做的你懂的东西，所以需要这么写才有效\n                    style.borderTopWidth = 0;\n                    style.borderRightWidth = 0;\n                    style.borderBottomWidth = 0;\n                    style.borderLeftWidth = 0;\n                    if (!this.plain) {\n                        style.backgroundImage = this.color;\n                    }\n                }\n                else {\n                    // 非渐变色，则设置边框相关的属性\n                    style.borderColor = this.color;\n                    style.borderWidth = \"1px\";\n                    style.borderStyle = \"solid\";\n                }\n            }\n            return style;\n        },\n        // nvue版本按钮的字体不会继承父组件的颜色，需要对每一个text组件进行单独的设置\n        nvueTextStyle() {\n            let style = new UTSJSONObject({});\n            // 针对自定义了color颜色的情况，镂空状态下，就是用自定义的颜色\n            if (this.type === \"info\") {\n                style.color = \"#323233\";\n            }\n            if (this.color) {\n                style.color = this.plain ? this.color : \"white\";\n            }\n            style.fontSize = this.textSize + \"px\";\n            return style;\n        },\n        // 字体大小\n        textSize() {\n            let fontSize = 14, size = this.size;\n            if (size === \"large\")\n                fontSize = 16;\n            if (size === \"normal\")\n                fontSize = 14;\n            if (size === \"small\")\n                fontSize = 12;\n            if (size === \"mini\")\n                fontSize = 10;\n            return fontSize;\n        },\n    },\n    emits: ['click', 'getphonenumber', 'getuserinfo',\n        'error', 'opensetting', 'launchapp', 'agreeprivacyauthorization'],\n    methods: {\n        addStyle,\n        clickHandler(e = null) {\n            // 非禁止并且非加载中，才能点击\n            if (!this.disabled && !this.loading) {\n                // 进行节流控制，每this.throttle毫秒内，只在开始处执行\n                throttle(() => {\n                    this.$emit(\"click\", e);\n                }, this.throttleTime);\n            }\n            // 是否阻止事件传播\n            this.stop && this.preventEvent(e);\n        },\n        // 下面为对接uniapp官方按钮开放能力事件回调的对接\n        getphonenumber(res = null) {\n            this.$emit(\"getphonenumber\", res);\n        },\n        getuserinfo(res = null) {\n            this.$emit(\"getuserinfo\", res);\n        },\n        error(res = null) {\n            this.$emit(\"error\", res);\n        },\n        opensetting(res = null) {\n            this.$emit(\"opensetting\", res);\n        },\n        launchapp(res = null) {\n            this.$emit(\"launchapp\", res);\n        },\n        agreeprivacyauthorization(res = null) {\n            this.$emit(\"agreeprivacyauthorization\", res);\n        },\n    },\n});\n//# sourceMappingURL=C:/Users/86150/Desktop/%E5%BC%A0%E4%BA%9A%E5%86%AC%E9%A1%B9%E7%9B%AE/uniapp-project/uni_modules/uview-plus/components/u-button/u-button.vue?vue&type=script&lang.uts.js.map","references":["C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/mixin/button.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/mixin/openType.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/mixin/mpMixin.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/mixin/mixin.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/components/u-button/props.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/function/index.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/function/throttle.js","C:/Users/86150/Desktop/张亚冬项目/uniapp-project/uni_modules/uview-plus/libs/config/color.js"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"u-button.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"u-button.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
